# UI設計

# デザインツール

- tailwind css
- Radix UI

# サイト構成

- トップページ: いわゆるランディングページのような感じでサイトの説明とログインボタン・授業一覧ページへのボタンがある。
- 授業一覧ページ: 科目一覧カードが表示されクリックするとその科目のページに飛べる
  - 科目ページ: その科目の授業カードが単元ごとにまとめられて一覧で表示されている。授業をクリックすると授業ページに飛べる。
    - 授業ページ: 授業のコンテンツが表示されて利用できる。
      - 小テスト出題ページ: 問題の出題を行うページ。
      - 小テスト結果ページ: 小テスト出題ページでの採点結果を表示するページ。
  - アーカイブページ: 科目に属していない授業の一覧ページ。ソートやフィルタの機能がある。
    - 授業ページ: 授業のコンテンツが表示されて利用できる。
      - 小テスト出題ページ: 問題の出題を行うページ。
      - 小テスト結果ページ: 小テスト出題ページでの採点結果を表示するページ。
- 生徒ページ: 現在の利用状況のダッシュボード。
  - 科目利用状況ページ: 授業の利用状況を単元ごとにまとめて表示するページ。
- 教師ページ: 現在の生徒の状況を確認できるダッシュボード。
  - 科目利用状況ページ: 生徒の授業利用状況を単元ごとにまとめて表示するページ。
  - 生徒別利用状況ページ: 生徒個人の各授業利用状況を確認できるページ。
- 管理ページ: 各種管理ページへのリンク
  - 科目管理ページ: 科目の登録・編集・削除、単元の紐付けができるページ。
    - 科目一括登録ページ: CSVを使って科目の一括登録ができるページ。
  - 単元管理ページ: 単元の登録・編集・削除、授業の紐付けができるページ。
    - 単元一括登録ページ: CSVを使って単元の一括登録ができるページ。
  - 授業管理ページ: 授業の登録・編集・削除、コンテンツと小テスト問題の紐付けができるページ。
    - 授業一括登録ページ: CSVを使って授業の一括登録ができるページ。
  - コンテンツ管理ページ: コンテンツの登録・編集・削除ができるページ。
    - コンテンツ一括登録ページ: CSVを使ってコンテンツの一括登録ができるページ。
  - 問題管理ページ: 問題の登録・編集・削除ができるページ。
    - 問題一括登録ページ: CSVを使って問題の一括登録ができるページ。
  - 生徒管理ページ: 生徒の登録・編集・削除ができるページ。
    - 生徒一括登録ページ: CSVを使って生徒の一括登録ができるページ。
  - 利用履歴管理ページ: 生徒の利用状況の集計を行ったり、利用状況の履歴をエクスポート・削除ができるページ

# 各ページ詳細

## トップページ
- ヒーローセクションにサービス概要と「ログイン」「授業一覧を見る」ボタンを配置し、未ログイン利用者でも授業一覧へ直接遷移できるようにする。
- 公開中の科目カードと授業ピックアップをカルーセル表示し、クリックで各詳細ページへ遷移できるようにする。
- ログイン済みの場合はユーザーメニューを表示し、学習ログの記録やダッシュボードへの導線を追加する。

## 授業一覧ページ
- 科目ごとのカードをグリッド表示し、科目名、公開授業数を載せる。
- 各カードをクリックすると科目ページへ遷移するほか、最後にアーカイブページへのカードを設ける。

## 科目ページ
- 単元単位で授業カードをまとめ、各単元ブロックに折りたたみ機能を用意する。
- 授業カードには授業の説明、利用可能なコンテンツ（動画、小テスト、その他の教材をバッジで表示）、実施済みかどうか（ログイン時のみ）を表示する。

## 授業ページ
- 授業タイトル、説明、タグ、動画、小テスト、その他教材を表示する。
- 動画カードにはYouTube埋め込みプレイヤーと視聴ステータスが表示される。
- 小テストカードからは出題ページへ遷移し、進捗リングで最新の正答率を提示する。

## 小テスト出題ページ
- テスト概要（出題数、制限時間）を先頭に表示し、「テストを開始」ボタンで問題表示を開始する。
- 問題は一覧表示され、上部に経過時間を配置する。
- 送信後は即座に採点し、小テスト結果ページへ遷移する。

## 小テスト結果ページ
- テスト全体の正答率、受験日時、経過時間、再受験ボタンをカード表示する。
- 問題ごとに正誤、模範解答、解説を展開表示し、誤答のみフィルターする機能を持たせる。
- 学習ログには各問題ID、回答内容、判定を保存する旨のメッセージを掲載する。

## アーカイブページ
- 単元に紐付いていない授業のみを一覧表示し、ソート（作成日、人気順）とタグフィルターを提供する。
- 授業カードの構成は通常の授業ページと同様だが、紐付け先候補を教師のみドロップダウンで指定できる。
- ゲスト（未ログイン）でも閲覧できるが、学習ログ関連のボタンはグレーアウトする。

## 生徒ページ（ダッシュボード）
- ログイン中の生徒向けに挨拶と総学習時間を表示する。
- 直近利用した授業を最大5つタイムライン表示する。また、科目別利用状況ページへのリンクを表示する。
- 将来の通知機能拡張を見据え、教師からのお知らせカード領域を確保する。

## 科目利用状況ページ（生徒）
- 科目→単元→授業の順で学習状況をツリー表示し、動画視聴率と小テスト正答率をバー表示する。
- 期間フィルター（日付範囲）とコンテンツ種別フィルターで集計対象を切り替えられる。

## 教師ページ（ダッシュボード）
- 公開授業数、今月の学習ログ件数、小テスト実施件数などの概要カードを表示する。
- 最近の活動（CSVインポート履歴、最近公開した授業）をリスト化し、詳細画面へリンクする。
- 「生徒モードに切り替え」ボタンで生徒ページをプレビューできる。

## 科目利用状況ページ（教師）
- 生徒全体の科目・単元別集計を表とグラフで表示し、公開状態やフィルター条件で絞り込みできる。
- 各テーブル行から詳細ドロワーを開き、該当単元の授業視聴率や小テスト成績を確認する。
- グラフは完了/未完了動画の円グラフ、小テスト正答率の棒グラフを想定する。

## 生徒別利用状況ページ
- 生徒リストを表示し、検索・並び替え（氏名、最終ログイン、学習時間）に対応する。
- 生徒を選択すると詳細ドロワーで視聴履歴、小テスト履歴、誤答の多い問題などを確認できる。
- 問題単位の正誤履歴へ遷移できるリンクを設け、個別フォローに活用する。

## 管理ページ（ハブ）
- 科目、単元、授業、コンテンツ、問題、生徒、利用履歴へのリンクカードを並べる。
- 各カードには主要操作（登録/一括登録/公開切替）のショートカットボタンを用意する。
- 教師権限でのみアクセス可能とし、アクセス制御の結果をアラートで表示する。

## 科目管理ページ
- 科目一覧をテーブル表示し、カラムに科目名、公開状態、紐付け単元数、更新日時を持たせる。
- 編集モーダルで科目名、説明、公開状態を変更でき、公開切替で利用可否を制御する。
- 単元の紐付けは詳細パネルでチェックボックスで操作する。

### 科目一括登録ページ
- CSVテンプレートのダウンロード、ファイルアップロード、結果ログ（成功/エラー件数、エラー行情報）を表示する。
- アップロード進行状況をプログレスバーで可視化する。

## 単元管理ページ
- 単元一覧テーブルを表示し、所属科目、公開状態、授業数、更新日時を確認できる。
- 単元の公開切替、科目との紐付け、授業の紐付けを同一画面で行う。
- 新規作成/編集モーダルでは名称、説明、並び順、公開状態を設定する。

### 単元一括登録ページ
- 科目一括登録ページと同様のUIでテンプレートダウンロード、アップロード、結果ログを提供する。
- エラー発生時は対象単元名と理由を表示し、再アップロードを促す。

## 授業管理ページ
- 授業一覧をカードまたはテーブルで表示し、科目・単元・公開状態・コンテンツ数を確認できる。
- コンテンツと小テスト問題の紐付け、公開切替、並び替えを詳細パネルで行う。
- モーダルフォームでタイトル、説明、公開状態、紐付け単元を編集する。

### 授業一括登録ページ
- CSVテンプレートとアップロードフォーム、アップロード進捗バー、結果ログを表示する。
- エラーログには行番号、授業名、エラーメッセージを記載し、ダウンロード可能にする。

## コンテンツ管理ページ
- 動画・小テスト・その他教材をタブ切り替えで管理し、各コンテンツの公開状態や所属授業を一覧表示する。
- 個別編集フォームではタイトル、YouTube URL（動画）、（出題数、説明など）、リンクURL（その他教材）などを編集できる。
- 授業への紐付け変更や公開切替を一括操作できるチェックボックスとアクションバーを提供する。

### コンテンツ一括登録ページ
- タブでコンテンツ種別を選択し、それぞれのCSVテンプレートとアップロード機能を提供する。
- アップロード結果に成功数、失敗数、失敗理由を表示し、失敗分のみのCSVをダウンロードできる。

## 問題管理ページ
- 小テスト問題を一覧表示し、問題文、種類（選択/並び替え/記述）、難易度、公開状態を確認できる。
- 右側で選択中の問題詳細（問題文、選択肢、正解、タグ）を編集でき、プレビューボタンで生徒表示を確認できる。
- CSVインポート以外にも単発でコピー＆作成するための「問題を複製」機能を備える。

### 問題一括登録ページ
- CSVテンプレート（問題文、選択肢、正解、タグ）を用意し、アップロード→結果ログの流れは他の一括登録ページと共通。
- 検証時にフォーマットエラーを即座に表示し、エラー行だけを再編集できるダウンロードリンクを提供する。

## 生徒管理ページ
- 生徒一覧を表示し、氏名、メールアドレス、最終ログイン、ステータス（有効/無効）を確認できる。
- 登録/編集モーダルでメールアドレスのホワイトリスト登録、ステータス変更、メモを設定する。
- 学習停止中生徒を非表示にするフィルターや検索機能を提供する。

### 生徒一括登録ページ
- CSVテンプレート（氏名、メールアドレス、ステータス）を配布し、アップロード後に検証結果を表示する。
- エラーがある場合はエラーファイルをダウンロードでき、成功分は即時で登録完了のトーストを表示する。

## 利用履歴管理ページ
- 学習ログの集計テーブル（科目/単元/授業/生徒/動画視聴時間/小テスト正答率）とフィルター（期間、科目、ユーザー）を提供する。
- エクスポートボタンでCSV/PDF出力、削除ボタンで指定した期間のログを一括削除できる。
- ログ詳細を開くと、問題別正誤履歴や動画視聴タイムスタンプを確認できるドロワーを表示する。

# 共通コンポーネント

## Header
- サイトアイコン: トップページへのリンク
- Dropdown Menu: ログイン状態の時のみ表示

## Dropdown Menu
Radix UIを使用。各ページへのリンク一覧とログアウトボタンを配置。ログイン状態の時のみ表示する。
- 生徒: 授業一覧ページ、生徒ページ
- 教師: 授業一覧ページ、生徒ページ、教師ページ、管理ページ
- ログアウトボタン: ログアウトし、トップページに遷移する。

## Breadcrumb
パスから前のページを辿れるようにするためのパンクズリスト。

## Hero Section

## CircularProgress
進捗や正答率などを表す円形のプログレスバー

## ContentsTable
生徒、科目、単元、授業、小テスト問題などのコンテンツを一覧表示するテーブル、操作ボタン、ページネーションをセットにしたコンポーネント。

## CardList
コンテンツの内容を表示したカードとそれを一覧で並べて表示するコンポーネント。

## MasterDetail
コンテンツの一覧と選択したコンテンツの詳細を表示するコンポーネント。
